{"version":3,"sources":["db/firestore.js","api/counterRepository.js","components/emoji/Emoji.js","pages/counter/Counter.js","pages/user-form/UserForm.js","App.js","auth/authServices.js","index.js"],"names":["app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","getFirestore","auth","getAuth","setPersistence","browserLocalPersistence","getCounterValue","a","counterRef","doc","getDoc","counterDoc","get","setCounterValue","newValue","updateDoc","value","Emoji","props","className","role","aria-label","label","aria-hidden","style","fontSize","symbol","Counter","handleSignOut","useState","counter","setCounter","useEffect","counterValue","unsubscribe","onSnapshot","Fragment","onClick","Button","variant","UserForm","mode","handleAuthentication","formState","email","setEmail","password","setPassword","Form","Group","controlId","Control","type","placeholder","onChange","e","target","App","navigate","useNavigate","onAuthStateChanged","user","signInWithEmailAndPassword","then","response","uid","catch","error","console","log","code","message","signInUser","createUserWithEmailAndPassword","signUpUser","path","element","signOut","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.4b32dc19.chunk.js","sourcesContent":["import { initializeApp } from 'firebase/app';\nimport { getFirestore } from 'firebase/firestore';\nimport { getAuth, browserLocalPersistence } from 'firebase/auth';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyD3JgRl5KWKzWo-tVXoMqKc5HZzoNr8r5Q',\n  authDomain: 'days-since-f2f53.firebaseapp.com',\n  projectId: 'days-since-f2f53',\n  storageBucket: 'days-since-f2f53.appspot.com',\n  messagingSenderId: '770516759412',\n  appId: '1:770516759412:web:6a858719defadfc696f221',\n  measurementId: 'G-EDN478SNWY',\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst db = getFirestore(app);\nconst auth = getAuth(app);\nauth.setPersistence(browserLocalPersistence);\n\nexport { db, auth };\n","import { db } from \"../db/firestore\";\nimport { doc, updateDoc, getDoc } from \"firebase/firestore\";\n\nconst getCounterValue = async () => {\n  const counterRef = doc(db, \"counters\", \"counter\");\n  const counterDoc = await getDoc(counterRef);\n  return counterDoc.get(\"value\");\n};\n\nconst setCounterValue = async (newValue) => {\n  const counterRef = doc(db, \"counters\", \"counter\");\n  await updateDoc(counterRef, {\n    value: newValue,\n  });\n};\n\nexport { getCounterValue, setCounterValue };\n","import React from \"react\";\nimport \"./Emoji.css\";\nconst Emoji = (props) => (\n  <div\n    className=\"emoji\"\n    role=\"img\"\n    aria-label={props.label ? props.label : \"\"}\n    aria-hidden={props.label ? \"false\" : \"true\"}\n    style={{ fontSize: props.fontSize }}\n  >\n    {props.symbol}\n  </div>\n);\nexport default Emoji;\n","import { getCounterValue, setCounterValue } from '../../api/counterRepository';\nimport React, { useState, useEffect } from 'react';\nimport { doc, onSnapshot } from 'firebase/firestore';\nimport { db } from '../../db/firestore';\nimport Emoji from '../../components/emoji/Emoji';\nimport Button from 'react-bootstrap/Button';\nimport './Counter.css';\n\nconst Counter = ({ handleSignOut, auth }) => {\n  const [counter, setCounter] = useState(null);\n  useEffect(() => {\n    (async () => {\n      const counterValue = await getCounterValue();\n      setCounter(counterValue);\n    })();\n\n    // TODO: Should be placed in the repo, but don't know how\n    const unsubscribe = onSnapshot(doc(db, 'counters', 'counter'), (doc) => {\n      setCounter(doc.get('value'));\n    });\n    return () => unsubscribe();\n  }, []);\n\n  const handleIncrement = () => {\n    setCounter(counter + 1);\n    setCounterValue(counter + 1);\n  };\n\n  const handleReset = () => {\n    setCounter(0);\n    setCounterValue(0);\n  };\n\n  return (\n    <React.Fragment>\n      <div className=\"title\">\n        <h1 className=\"heading\">Days Since 🔥</h1>\n        <Emoji symbol=\"\" fontSize={50} />\n      </div>\n      <h1 className=\"counter\">{counter}</h1>\n      <div className=\"increment-reset\">\n        <div className=\"emoji-container\" onClick={handleIncrement}>\n          <Emoji symbol=\"✅\" fontSize={100} />\n        </div>\n        <div className=\"emoji-container\" onClick={handleReset}>\n          <Emoji symbol=\"❌\" fontSize={100} />\n        </div>\n      </div>\n      <Button variant=\"primary\" onClick={handleSignOut}>\n        Sign Out\n      </Button>\n    </React.Fragment>\n  );\n};\n\nexport default Counter;\n","import Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport React, { useState } from 'react';\n\nconst UserForm = ({ mode, handleAuthentication }) => {\n  const [formState] = useState(mode === 'login' ? 'Sign In' : 'Sign Up');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  return (\n    <Form>\n      <h1>{formState}</h1>\n      <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n        <Form.Control type=\"email\" placeholder=\"Email\" onChange={(e) => setEmail(e.target.value)} />\n      </Form.Group>\n\n      <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n        <Form.Control\n          type=\"password\"\n          placeholder=\"Password\"\n          onChange={(e) => setPassword(e.target.value)}\n        />\n      </Form.Group>\n      <Button variant=\"primary\" onClick={() => handleAuthentication(mode, email, password)}>\n        {formState}\n      </Button>\n    </Form>\n  );\n};\n\nexport default UserForm;\n","import { BrowserRouter as Router, Routes, Route, Navigate, useNavigate } from 'react-router-dom';\nimport Counter from './pages/counter/Counter';\nimport UserForm from './pages/user-form/UserForm';\nimport { auth } from './db/firestore';\nimport { signInUser, signUpUser, signOutUser } from './auth/authServices';\nimport './App.css';\nimport { useEffect } from 'react';\n\nconst App = () => {\n  const navigate = useNavigate();\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged((user) => {\n      if (user) {\n        navigate('/');\n      } else {\n        navigate('/login');\n      }\n    });\n    return () => unsubscribe();\n  }, [navigate]);\n\n  const handleAuthentication = (mode, email, password) => {\n    mode === 'login' ? signInUser(auth, email, password) : signUpUser(auth, email, password);\n  };\n\n  const handleSignOut = () => {\n    signOutUser(auth);\n  };\n\n  return (\n    <div className=\"App\">\n      <>\n        <Routes>\n          <Route path=\"/\" element={<Counter handleSignOut={handleSignOut} />} />\n          <Route\n            path=\"/login\"\n            element={<UserForm mode=\"login\" handleAuthentication={handleAuthentication} />}\n          />\n          <Route\n            path=\"/register\"\n            element={<UserForm mode=\"register\" handleAuthentication={handleAuthentication} />}\n          />\n        </Routes>\n      </>\n    </div>\n  );\n};\n\nexport default App;\n","import { createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from 'firebase/auth';\n\nconst signUpUser = (auth, email, password) => {\n  createUserWithEmailAndPassword(auth, email, password)\n    .then((response) => {\n      return response.user.uid;\n    })\n    // TODO: Implement error handling\n    .catch((error) => {\n      console.log(error.code, error.message);\n    });\n};\n\nconst signInUser = (auth, email, password) => {\n  signInWithEmailAndPassword(auth, email, password)\n    .then((response) => {\n      return response.user.uid;\n    })\n    .catch((error) => {\n      // TODO: Implement error handling\n      console.log(error.code, error.message);\n    });\n};\n\nconst signOutUser = (auth) => {\n  signOut(auth)\n    .then(() => {})\n    // TODO: Implement error handling\n    .catch((error) => {});\n};\n\nexport { signUpUser, signInUser, signOutUser };\n","import React from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router basename=\"/days-since\">\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}
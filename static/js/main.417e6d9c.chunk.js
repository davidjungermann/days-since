(this["webpackJsonpdays-since"]=this["webpackJsonpdays-since"]||[]).push([[0],{50:function(e,t,n){},53:function(e,t,n){},55:function(e,t,n){},58:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var r=n(5),a=n.n(r),c=n(37),s=n(41),i=n.n(s),u=(n(50),n(0)),o=n.n(u),j=n(1),f=n(12),b=n(13),l=n(42),p=n(19),d=n(28),O=Object(l.a)({apiKey:"AIzaSyD3JgRl5KWKzWo-tVXoMqKc5HZzoNr8r5Q",authDomain:"days-since-f2f53.firebaseapp.com",projectId:"days-since-f2f53",storageBucket:"days-since-f2f53.appspot.com",messagingSenderId:"770516759412",appId:"1:770516759412:web:6a858719defadfc696f221",measurementId:"G-EDN478SNWY"}),h=Object(p.e)(O),m=Object(d.c)(O);m.setPersistence(d.a);var x=Object(p.b)(h,"counters"),v=function(){var e=Object(j.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.a)(Object(p.b)(h,"counters"),{value:0,uid:t,streak:0});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(j.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(p.g)(x,Object(p.j)("uid","==",t)),e.next=3,Object(p.d)(n);case 3:return r=e.sent,e.abrupt("return",r.docs[0]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(j.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(p.c)(h,"counters",n),e.next=3,Object(p.i)(r,{value:t});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(j.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(p.c)(h,"counters",n),e.next=3,Object(p.i)(r,{streak:t});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(j.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(p.f)(Object(p.c)(h,"counters","counter"),(function(e){t(e.get("value"))})),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=(n(53),n(7)),I=function(e){return Object(S.jsx)("div",{className:"emoji",role:"img","aria-label":e.label?e.label:"","aria-hidden":e.label?"false":"true",style:{fontSize:e.fontSize},children:e.symbol})},N=n(62),C=n(63),z=n(43),A=n(45),E=(n(55),function(e){var t=e.handleSignOut,n=e.uid,c=e.email,s=Object(r.useState)(null),i=Object(f.a)(s,2),u=i[0],b=i[1],l=Object(r.useState)(null),p=Object(f.a)(l,2),d=p[0],O=p[1];Object(r.useEffect)((function(){if(n)return Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(n);case 2:t=e.sent,b(t.data().value),O(t.data().streak);case 5:case"end":return e.stop()}}),e)})))(),function(){return k(b)}}),[n]);var h=function(){var e=Object(j.a)(o.a.mark((function e(){var t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=8;break}return b(t=u+1),e.next=5,w(n);case 5:r=e.sent,y(t,r.id),x(t,r.id);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}return b(0),e.next=4,w(n);case 4:t=e.sent,y(0,t.id);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(j.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t>d&&(O(t),g(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(S.jsx)(a.a.Fragment,{children:Object(S.jsx)(N.a,{children:Object(S.jsxs)(C.a,{children:[Object(S.jsxs)(z.a,{children:[Object(S.jsx)("h5",{children:"Longest Streak"}),n&&Object(S.jsx)("span",{children:d})]}),Object(S.jsxs)(z.a,{children:[Object(S.jsx)("h2",{children:"Days Since \ud83d\udd25"}),Object(S.jsx)("h1",{className:"counter",children:u}),Object(S.jsxs)("div",{className:"increment-reset",children:[Object(S.jsx)("div",{className:"emoji-container",onClick:h,children:Object(S.jsx)(I,{symbol:"\u2705",fontSize:100})}),Object(S.jsx)("div",{className:"emoji-container",onClick:m,children:Object(S.jsx)(I,{symbol:"\u274c",fontSize:100})})]})]}),Object(S.jsxs)(z.a,{children:[c&&Object(S.jsx)("h5",{children:c}),Object(S.jsx)(A.a,{variant:"primary",onClick:t,children:"Sign Out"})]})]})})})}),B=n(31),D=function(e){var t=e.mode,n=e.handleAuthentication,a=Object(r.useState)("sign-in"===t?"Sign In":"Sign Up"),c=Object(f.a)(a,1)[0],s=Object(r.useState)(""),i=Object(f.a)(s,2),u=i[0],o=i[1],j=Object(r.useState)(""),b=Object(f.a)(j,2),l=b[0],p=b[1];return Object(S.jsxs)(B.a,{children:[Object(S.jsx)("h1",{children:c}),Object(S.jsx)(B.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:Object(S.jsx)(B.a.Control,{type:"email",placeholder:"Email",onChange:function(e){return o(e.target.value)}})}),Object(S.jsx)(B.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:Object(S.jsx)(B.a.Control,{type:"password",placeholder:"Password",onChange:function(e){return p(e.target.value)}})}),Object(S.jsx)(A.a,{variant:"primary",onClick:function(){return n(t,u,l)},children:c})]})},K=function(){var e=Object(j.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.h)(Object(p.c)(h,"users",t.uid),{email:t.email,created:t.metadata.creationTime,lastSignIn:t.metadata.lastSignInTime});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=(n(58),n(44)),J=function(){var e=Object(G.a)(m),t=Object(f.a)(e,1)[0],n=Object(b.f)();Object(r.useEffect)((function(){var e=m.onAuthStateChanged((function(e){n(e?"/":"/sign-in")}));return function(){return e()}}),[n]);var a=function(){var e=Object(j.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"sign-in"===t?s(m,n,r):c(m,n,r);case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),c=function(){var e=Object(j.a)(o.a.mark((function e(t,n,r){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.b)(t,n,r);case 2:a=e.sent,K(a.user),v(a.user.uid);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),s=function(){var e=Object(j.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)(t,n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),i=function(){var e=Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.e)(m);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsx)("div",{className:"App",children:Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(b.c,{children:[Object(S.jsx)(b.a,{path:"/",element:Object(S.jsx)(E,{handleSignOut:i,uid:null===t||void 0===t?void 0:t.uid,email:null===t||void 0===t?void 0:t.email})}),Object(S.jsx)(b.a,{path:"/sign-in",element:Object(S.jsx)(D,{mode:"sign-in",handleAuthentication:a})}),Object(S.jsx)(b.a,{path:"/sign-up",element:Object(S.jsx)(D,{mode:"sign-up",handleAuthentication:a})})]})})})};n(59);i.a.render(Object(S.jsx)(a.a.StrictMode,{children:Object(S.jsx)(c.a,{basename:"/days-since",children:Object(S.jsx)(J,{})})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.417e6d9c.chunk.js.map